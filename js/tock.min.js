var Tock=function(e){function p(){if(r){return false}m();i=0;a=0;f="0.0"}function d(e){i=e;if(r){E(e)}else{S(0)}}function v(){a+=n;f=Math.floor(a/n)/10;if(Math.round(f)===f){f+=".0"}var e=this,s=Date.now()-i-a,p=n-s;if(l!==undefined){l(this)}if(r&&u-a<0){o=0;t=false;c()}if(p<=0){missed_ticks=Math.floor(Math.abs(p)/n);a+=missed_ticks*n;if(t){v()}}else{if(t){timeout=window.setTimeout(v,p);timeout=h+timeout}}}function m(){t=false;window.clearTimeout(timeout.replace(h));if(r){o=u-a}else{o=Date.now()-i}}function g(){if(t){s=y();m()}else{if(s){if(r){E(s)}else{S(s)}}}}function y(){if(t){var e;if(r){e=u-(Date.now()-i)}else{e=Date.now()-i}return e}return s||o}function b(e){if(e<=0){return"00:00"}var t=Math.floor(e/1e3%60).toString(),n=Math.floor(e/(60*1e3)).toString();if(t.length===1){t="0"+t}if(n.length===1){n="0"+n}return n+":"+t}function w(e){var t=(new Date(e)).getTime();if(!t){var n=e.split(":");t=parseInt(n[0],10)*6e4;if(n.length>1){t+=parseInt(n[1],10)*1e3}if(n.length>2){t+=parseInt(n[2],10)}}return t}function E(e){u=e;i=Date.now();end_time=i+u;a=0;f="0.0";t=true;v();this.timeout=window.setTimeout(v,n)}function S(e){i=Date.now()-e;a=0;f="0.0";t=true;v();this.timeout=window.setTimeout(v,n)}Tock.instances=(Tock.instances||0)+1;var t=false,n=e.interval||10,r=e.countdown||false,i=0,s=0,o=0,u=0,a=0,f=0,l=e.callback,c=e.complete,h="Tock"+Tock.instances;return{start:d,pause:g,stop:m,reset:p,lap:y,msToTime:b,timeToMS:w}}